<style type="text/css">
	.img_badge
	{
		width: 25px;
	}
</style>
<link rel="stylesheet" href="styles/main.css">


<!-- Add your site or application content here -->

<div class="header">
  
  	<nav class="navbar navbar-default">
  		<div class="container-fluid">
		    <!-- Brand and toggle get grouped for better mobile display -->
		    <div class="navbar-header">
		      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
		        <span class="sr-only">Toggle navigation</span>
		        <span class="icon-bar"></span>
		        <span class="icon-bar"></span>
		        <span class="icon-bar"></span>
		      </button>
		      <a class="navbar-brand" href="#">IOTBox</a>
		    </div>

		    <!-- Collect the nav links, forms, and other content for toggling -->
		    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
	            <ul class="nav navbar-nav">
			        <li><a href="#/">Home</a></li>
			        <li><a href="#/heartbeat">Heartbeat</a></li>
			        <li class="active"><a ng-href="#/dashboard">Dashboard</a></li>
			    </ul>
<!-- 		      <form class="navbar-form navbar-left" role="search">
		        <div class="form-group">
		          <input type="text" class="form-control" placeholder="Search">
		        </div>
		        <button type="submit" class="btn btn-default">Submit</button>
		      </form> -->
		      <ul class="nav navbar-nav navbar-right">
		        <!-- <li><a href="" ng-click="drawGraph(currentNode)">Refresh <span class="badge">{{newCount}}</span></a></li> -->
		        <li class="dropdown">
		          <a href="" class="dropdown-toggle" data-toggle="dropdown" role="button">Alerts <span class="badge">{{newCount}}</span> <span class="caret"></span></a>
		          <ul class="dropdown-menu" role="menu">
		            <li><a href="#">Action</a></li>
		            <li><a href="#">Another action</a></li>
		            <li><a href="#">Something else here</a></li>
		            <li class="divider"></li>
		            <li><a href="#">Separated link</a></li>
		          </ul>
		        </li>
		      </ul>
		    </div><!-- /.navbar-collapse -->
		</div>
	</nav>

</div>


<div class="row">

    <!-- Sidebar -->
    <div class="col-md-4" style="overflow: hidden;">
        <div class="panel panel-default">
			<div class="panel-heading">
			    <h3 class="panel-title">Gateways</h3>
			</div>
			<div class="panel-body">

		    <div ng-hide="gateways.length" class="alert alert-info" class="row">
		    	<p>Please add a gateway</p>
		    </div>

			<div ng-repeat="gateway in gateways" ng-show="gateways.length" class="alert alert-info">
				<a href="" ng-click="getNodes(gateway.serial)">
				<div>
					<small>
					    {{gateway.id}}
					</small>
				</div>
				</a>
			</div>

		  </div>
		</div>	
    </div>

    <!-- Page Content -->
    <div class="col-md-8">

    <div ng-repeat="message in messages" ng-show="message" class="alert alert-{{message.class}}" role="alert">
  		{{message.message}}
	</div>

    <!-- <a href="#menu-toggle" class="btn btn-default" style="position: fixed; right: 10px; top: 10px;" id="menu-toggle">Toggle Menu</a> -->
        <div>
            <div class="row">
                <div class="col-lg-12">
                    <div class="panel panel-default">
					  <div class="panel-heading">
					    <h3 class="panel-title">Nodes</h3>
					  </div>
					  <div class="panel-body" style="max-height: 250px; overflow-y:scroll;">

					    <div class="alert alert-info" ng-hide="nodes.length > 0" class="row">
					    	<p>Please select a gateway to see it's nodes</p>
					    </div>

					    <div ng-show="nodes.length > 0" class="row">
							<a ng-animate="'animate'" ng-repeat="node in nodes" href="" ng-click="drawGraph(node._id)">
								<div class="col-sm-6 col-md-3">
								    <div class="thumbnail">
								      	<img src="/images/{{node.icon}}" style="width:75px;" alt="{{node.type}}">
								      	<div class="caption" style="padding-top:0px;">
								        	<h4 class="text-center">#{{node._id}}</h4>
								        	<p class="text-center"><small>Type: {{node.type}}</small></p>
									        <p ng-show="node.modules" class="text-center">
									        	<img ng-animate="'animate'" ng-repeat="module in node.modules" class="img_badge" src="/images/48x48/{{module}}.png"/> 
									        </p>
								      	</div>
								    </div>
								</div>
							</a>
						</div>

					  </div>
					</div>	
                </div>
            </div>
        </div>

		<div class="row" ng-show="graphData.length">
			<graph data="graphData" height=400>
		        <x field="timestamp" type="Time" format="%c" title='Date'></x>
		        <!-- <x field="timestamp" type="Time" format="%Y-%m-%dT%H:%M:%S.%LZ"></x> -->
		        <y field="value" title='Value'></y>
		        <graph-legend></graph-legend>
		        <line field="module" label="module"></line>
		    </graph>
		</div>

    </div>
    <!-- /#page-content-wrapper -->

</div>


    <script>
    $("#menu-toggle").click(function(e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
    });
    </script>
